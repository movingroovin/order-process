<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Helios Robot</title>
  <!-- Vue js -->
  <script src="https://cdn.jsdelivr.net/npm/vue@3"></script>

  <!-- font awesome -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.3/css/all.css" integrity="sha384-SZXxX4whJ79/gErwcOYf+zWLeJdY/qpuqC4cAa9rOGUstPomtqpuNWT9wdPEn2fk" crossorigin="anonymous">

  <!-- moment.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js" integrity="sha512-qTXRIMyZIFb8iQcfjXWCO8+M5Tbc38Qi5WzdPOYZHIlZpzBHG3L3by84BBBOiRGiEb7KKtAOAs5qYdUiZiQNNQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

  <!-- fabric.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/451/fabric.min.js" integrity="sha512-qeu8RcLnpzoRnEotT3r1CxB17JtHrBqlfSTOm4MQzb7efBdkcL03t343gyRmI6OTUW6iI+hShiysszISQ/IahA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  
  <!-- custom style -->
  <link rel="stylesheet" href="../css/basic.css">
  <link rel="stylesheet" href="../css/utility.css">
  <link rel="stylesheet" href="../css/order_v2.css">

  <!-- custom js -->
  <script defer src="../js/order_v2.js"></script>
  <!-- <script async src="../js/order_v2_fabric.js"></script> -->

</head>
<body>
  <div id="app">
    <!-- logo -->
    <div class="logo_container">
      <img src="../assest/img/h-logo.png" alt="logo" srcset="" class="logo_img">
    </div>

    <!-- step 0 -->
    <div class="design_area" v-show="orderStep.isStep0">
      <h2 class="mB25">開始規劃</h2>
      <div class="mB10">
        <div class="step_title">先繪製新的設計圖。如果你已有儲存的設計圖，需登入再打開設計圖。</div>
        <a class="btn-primary mB10" @click="ToStep(1)">建立新的設計圖</a>
      </div>
      <hr>
      <div class="mB10">
        <div class="step_title">如果想儲存或列印設計圖，請先建立一個檔案。請記得攜帶帳號及密碼到店內，服務人員可以幫你完成設計圖。</div>
        <a class="btn-secondary-outline mB10">建立檔案或登入</a>
      </div>
    </div>

    <div class="design_group">
      <!-- step 1 -->
      <div class="design_area" v-show="orderStep.isStep1">
        <h2 class="mB25">機台尺寸</h2>
        <span class="color-subtitle font-title-small-400"><span class="color-warning">*</span>為必填欄位</span>
        <div class="input_step">
          <div class="input_group">
            <p><span class="color-warning">*</span>機殼長X (mm)</p>
            <input class="input_text" placeholder="請填寫" type="text" v-model="orderDetail.caseX" @input="SetCaseX">
          </div>
          <div class="input_group">
            <p><span class="color-warning">*</span>機殼寬Y (mm)</p>
            <input class="input_text" placeholder="請填寫" type="text" v-model="orderDetail.caseY" @input="SetCaseY">
          </div>
          <div class="input_group">
            <p><span class="color-warning">*</span>機殼材質</p>
            <select class="input_select" name="" id="" v-model="orderDetail.selectedCaseMaterial">
              <option
                v-for="(ele, idx) in orderDetail.caseMaterialList"
                :key="idx"
                :value="ele">
                {{ele.label}}
              </option>
            </select>
          </div>
        </div>
        <div class="mB10">
          <a class="btn-secondary-outline mB10 mR10" @click="ToStep(0)">上一步</a>
          <a class="btn-primary mB10 mR10" @click="ToStep(2)">下一步</a>
        </div>
      </div>
      
      <!-- step 2 -->
      <div class="design_area" v-show="orderStep.isStep2">
        <h2 class="mB25">窗戶尺寸</h2>
        <span class="color-subtitle font-title-small-400"><span class="color-warning">*</span>為必填欄位</span>
        <div class="input_step">
          <div class="input_group">
            <p><span class="color-warning">*</span>窗戶長Xw (mm)</p>
            <input class="input_text" placeholder="請填寫" type="text" v-model="orderDetail.windowX" @input="SetWindowX">
          </div>
          <div class="input_group">
            <p><span class="color-warning">*</span>窗戶寬Yw (mm)</p>
            <input class="input_text" placeholder="請填寫" type="text" v-model="orderDetail.windowY" @input="SetWindowY">
          </div>
          <div class="input_group">
            <p><span class="color-warning">*</span>側邊長Xc (mm)</p>
            <input class="input_text" placeholder="請填寫" type="text" v-model="orderDetail.windowXc" @input="SetWindowXc">
          </div>
          <div class="input_group">
            <p><span class="color-warning">*</span>窗戶材質</p>
            <select class="input_select" name="" id="" v-model="orderDetail.selectedWindowMaterial">
              <option
                v-for="(ele, idx) in orderDetail.windowMaterialList"
                :key="idx"
                :value="ele">
                {{ele.label}}
              </option>
            </select>
          </div>
        </div>
        <div class="mB10">
          <a class="btn-secondary-outline mB10 mR10" @click="ToStep(1)">上一步</a>
          <a class="btn-primary mB10 mR10" @click="ToStep(3)">下一步</a>
        </div>
      </div>

      <!-- step 3 -->
      <div class="design_area" v-show="orderStep.isStep3">
        <h2 class="mB25">天線尺寸</h2>
        <span class="color-subtitle font-title-small-400"><span class="color-warning">*</span>為必填欄位</span>
        <div class="input_step">
          <div class="input_group">
            <p><span class="color-warning">*</span>天線長Xa (mm)</p>
            <input class="input_text" placeholder="請填寫" type="text" v-model="orderDetail.antennaX">
          </div>
          <div class="input_group">
            <p><span class="color-warning">*</span>天線寬Ya (mm)</p>
            <input class="input_text" placeholder="請填寫" type="text" v-model="orderDetail.antennaY">
          </div>
        </div>
        <div class="mB10">
          <a class="btn-secondary-outline mB10 mR10" @click="ToStep(2)">上一步</a>
          <a class="btn-primary mB10 mR10" @click="ToStep(4)">下一步</a>
        </div>
      </div>

      <!-- step 4 -->
      <div class="design_area" v-show="orderStep.isStep4">
        <h2 class="mB25">天線數量與應用</h2>
        <span class="color-subtitle font-title-small-400"><span class="color-warning">*</span>為必填欄位</span>
        <div class="input_step">
          <table>
            <tr>
              <th><span class="color-warning">*</span>天線應用</th>
              <th><span class="color-warning">*</span>數量</th>
              <th><span class="color-warning">*</span>操作頻段MHz</th>
            </tr>
            <tr 
              v-for="(ele, idx) in orderDetail.antennaApps"
              :key="idx">
              <td>{{ele.name}}</td>
              <td>
                <input class="input_text" style="width: 50px;" placeholder="請填寫" type="text" v-model="ele.amount">
              </td>
              <td>
                <select class="input_select" style="width: 120px;" name="" id="" v-model="ele.selectedFreq">
                  <option
                    v-for="(ele1, idx1) in ele.freqList"
                    :key="idx1"
                    :value="ele1">
                    {{ele1}}
                  </option>
                </select>
              </td>
            </tr>
          </table>
        </div>
        <div class="mB10">
          <a class="btn-secondary-outline mB10 mR10" @click="ToStep(3)">上一步</a>
          <a class="btn-primary mB10 mR10" @click="ToStep(5)">下一步</a>
        </div>
      </div>

      <!-- step 5 -->
      <div class="design_area" v-show="orderStep.isStep5">
        <h2 class="mB25">天線規格</h2>
        <span class="color-subtitle font-title-small-400"><span class="color-warning">*</span>為必填欄位</span>
        <div class="input_step">
          <table>
            <tr>
              <th><span class="color-warning">*</span>頻率(MHz)</th>
              <th style="width: 55px;"><span class="color-warning">*</span>效率規格(dB)</th>
              <th style="width: 55px;"><span class="color-warning">*</span>|S11|規格(dB)</th>
            </tr>
            <tr 
              v-for="(ele, idx) in orderDetail.anthennaSpec"
              :key="idx">
              <td>{{ele.freq}}</td>
              <td>
                <input class="input_text" style="width: 50px;" placeholder="請填寫" type="text" v-model="ele.power">
              </td>
              <td>
                <input class="input_text" style="width: 50px;" placeholder="請填寫" type="text" v-model="ele.s11">
              </td>
            </tr>
          </table>
        </div>
        <div class="mB10">
          <a class="btn-secondary-outline mB10 mR10" @click="ToStep(4)">上一步</a>
          <a class="btn-primary mB10 mR10" @click="ToStep(6)">下一步</a>
        </div>
      </div>

      <!-- step 6 -->
      <div class="design_area" v-show="orderStep.isStep6">
        <h2 class="mB25">補充資訊</h2>
        <span class="color-subtitle font-title-small-400"><span class="color-warning">*</span>為必填欄位</span>
        <div class="input_step">
          <div class="input_group">
            <p>規格書上傳</p>
            <input type="file">
          </div>
          <div class="input_group">
            <p>機構圖檔上傳</p>
            <input type="file">
          </div>
          <div class="input_group">
            <p>資料投影片上傳</p>
            <input type="file">
          </div>
        </div>
        <div class="mB10">
          <a class="btn-secondary-outline mB10 mR10" @click="ToStep(5)">上一步</a>
          <a class="btn-primary mB10 mR10" @click="ToStep(7)">下一步</a>
        </div>
      </div>

      <div v-show="!orderStep.isStep0">
        <div id="fabricCanvas" class="bg_color_secondary">
          <canvas id="canvas"></canvas>
          <span class="color-subtitle font-title-small-400">此區域尺寸為：{{Math.round(window.innerWidth*0.55)}} x {{500}}</span>
        </div>
        
      </div>
      
      <div v-show="!orderStep.isStep0" class="order_info">
        <h3 class="mB10">訂單明細</h3>

        <div class="order_detail_step">
          <div class="order_detail_group">
            <div>機殼長X (mm)</div>
            <div>{{orderDetail.caseX}}</div>
          </div>
          <div class="order_detail_group">
            <div>機殼長Y (mm)</div>
            <div>{{orderDetail.caseY}}</div>
          </div>
          <div class="order_detail_group">
            <div>機殼材質</div>
            <div>{{orderDetail.selectedCaseMaterial.label}}</div>
          </div>
        </div>

        <div class="order_detail_step">
          <div class="order_detail_group">
            <div>窗戶長Xw (mm)</div>
            <div>{{orderDetail.windowX}}</div>
          </div>
          <div class="order_detail_group">
            <div>窗戶寬Yw (mm)</div>
            <div>{{orderDetail.windowY}}</div>
          </div>
          <div class="order_detail_group">
            <div>側邊長Xc (mm)</div>
            <div>{{orderDetail.windowXc}}</div>
          </div>
          <div class="order_detail_group">
            <div>窗戶材質</div>
            <div>{{orderDetail.selectedWindowMaterial.label}}</div>
          </div>
        </div>

        <div class="order_detail_step">
          <div class="order_detail_group">
            <div>天線長Xa (mm)</div>
            <div>{{orderDetail.antennaX}}</div>
          </div>
          <div class="order_detail_group">
            <div>天線寬Ya (mm)</div>
            <div>{{orderDetail.antennaY}}</div>
          </div>
        </div>

        <div class="order_detail_step">
          <div class="order_detail_group_long"
            v-for="(ele, idx) in orderDetail.antennaApps"
            :key="idx">
            <div class="order_detail_group" style="margin-bottom: 0px;">
              <div>{{ele.name}}</div>
              <div>{{ele.amount}}件</div>
            </div>
            <div>操作頻率(MHz)：{{ele.selectedFreq}}</div>
          </div>
        </div>

        <div class="order_detail_step">
          <div class="order_detail_group_long"
            v-for="(ele, idx) in orderDetail.anthennaSpec"
            :key="idx">
            <div>頻率(MHz)：{{ele.freq}}</div>
            <div class="order_detail_group" style="margin-bottom: 0px;">
              <div>效率規格(dB)：{{ele.power}}</div>
              <div>|S11|規格(dB)：{{ele.s11}}</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    

  </div>   
</body>
</html>